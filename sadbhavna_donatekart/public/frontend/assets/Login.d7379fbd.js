var h=(s,t,n)=>new Promise((c,r)=>{var i=o=>{try{a(n.next(o))}catch(l){r(l)}},d=o=>{try{a(n.throw(o))}catch(l){r(l)}},a=o=>o.done?c(o.value):Promise.resolve(o.value).then(i,d);a((n=n.apply(s,t)).next())});import{_ as f,E as w,o as x,c as v,k as u,e,y as g,G as _,t as y,w as b,F as k,p as m,r as p}from"./index.22a5e41e.js";import{N as E,F as $}from"./Footer.97f97bef.js";const G={name:"Login",components:{Navbar:E,Footer:$},data(){return{password:"",error:!1,errorMsg:"",email:"",isLogin:!1}},resources:{login(){return{method:"/api/method/login",onSuccess:()=>h(this,null,function*(){this.$router.push("/sadbhavna")}),onError:s=>{this.$toast({title:"Error",text:"User Name or Password Incorrect",customIcon:"circle-fail",appearance:"denger"}),this.email="",this.password=""}}},login_with_google(){return{method:"frappe.www.login.login_via_token",onSuccess:()=>{this.$router.push("/sadbhavna")},onError:s=>{console.log("error",s),this.$toast({title:"Error",text:"Something want Wrong!",customIcon:"circle-fail",appearance:"denger"})}}}},methods:{validEmail:function(s){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(s)},validPassword:function(s){var t=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/;return t.test(s)},login(){this.email==""||!this.validEmail(this.email)?(this.errorMsg="Email or Password incorrect!",this.error=!0,console.log("email")):this.password==""||!this.validPassword(this.password)?(this.errorMsg="Email or Password incorrect!",this.error=!0,console.log("password")):(this.error==!1,this.$resources.login.submit({usr:this.email,pwd:this.password}))},login_with_google:s=>{let t=w(s.credential),n=t.email,c=t.family_name,r=t.given_name,i=t.picture,d=`http://sadbhavnadonatekart.com:8080/api/method/sadbhavna_donatekart.api.api.login_with_google?email=${n}&first_name=${c}&last_name=${r}&image_url=${i}`;fetch(d,{method:"GET"}).then(a=>{a.json().then(o=>{console.log("asdf",o.message),console.log("asdf",o),o.message,window.location="http://sadbhavnadonatekart.com:8080/home"})}).catch(function(a){log("Request failed",a)})}}},F={class:"container mx-auto h-full my-20"},N={class:"flex content-center items-center justify-center h-full"},P={class:"w-11/12 md:w-6/12 lg:w-4/12 px-4"},M={class:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-200 border-0"},S={class:"flex-auto px-4 lg:px-10 py-10 pt-5"},V=e("div",{class:"text-blueGray-400 text-center mb-3 font-bold text-[40px] md:text-[45px] lg:text-[45px]"},[e("small",null,"sign in ")],-1),z={class:"relative w-full mb-3"},A=e("label",{class:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password"},[m(" Email "),e("span",{class:"text-red-600"},"*")],-1),I={class:"relative w-full mb-3"},L=e("label",{class:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password"},[m(" Password "),e("span",{class:"text-red-600"},"*")],-1),Z={class:"text-red-600"},q={class:"text-center mt-6"},B=e("br",null,null,-1);function C(s,t,n,c,r,i){const d=p("Navbar"),a=p("router-link"),o=p("Footer");return x(),v(k,null,[u(d),e("div",F,[e("div",N,[e("div",P,[e("div",M,[e("div",S,[V,e("form",null,[e("div",z,[A,g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>r.email=l),type:"email",class:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",placeholder:"Email",required:""},null,512),[[_,r.email]])]),e("div",I,[L,g(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>r.password=l),type:"password",class:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",placeholder:"Password",required:""},null,512),[[_,r.password]])]),e("p",Z,y(r.errorMsg),1),e("div",q,[e("button",{style:{"background-color":"#40b751"},class:"cursor-pointer border-[#40b751] hover:border-[#40b751] bg-[#40b751] hover:bg-transparent text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-4 w-full ease-linear transition-all duration-150",type:"button",onClick:t[2]||(t[2]=l=>i.login())}," Sign In ")]),u(a,{to:"/sadbhavna/registration",class:"text-green-500"},{default:b(()=>[m("Register")]),_:1}),B,u(a,{to:"auto-login",class:"text-green-500"},{default:b(()=>[m("Other Login Method")]),_:1})])])])])])]),u(o)],64)}var j=f(G,[["render",C]]);export{j as default};
